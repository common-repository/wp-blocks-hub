$primary_font: fontFamilyPrimary();
$secondary_font: fontFamilySecondary();

.wpbh-masonry-grid {
	margin-bottom: 90px;
	position: relative;
	padding: 0;
	margin: 0 -15px;
	box-sizing: border-box;
	div.wpbh-inside {
		a, a:hover, a:focus {
			box-shadow: none;
			text-decoration: none;
		}
		a, .wpbh-post-title {
			transition: color 0.2s, background-color 0.2s, opacity 0.2s;
			text-decoration: none;
		}
	}
	div.wpbh-item {
		width: 33.33333%;
		padding: 0 15px;
		margin: 0 0 30px 0;
		@media( max-width: 1024px) {
			width: 50%;
		}
		@media( max-width: 480px) {
			width: 100%;
		}
		h2.wpbh-post-title {
			margin: 0 0 10px 0;
			padding: 0;
			color: inherit;
			@if $secondary_font != '' {
				font-family: $secondary_font;
			} 
			font-size: $heading_font_size_desktop + px;
			line-height: $heading_font_line_height_desktop + px;
			@media( max-width: $mobile_breakpoint + px ) {
				font-size: $heading_font_size_mobile + px;
				line-height: $heading_font_line_height_mobile + px;
			}
			&:before, &:after {
				display: none;
			}
		}
		.wpbh-excerpt, .wpbh-categories, .wpbh-excerpt p {
			margin-bottom: 10px;
			@if $primary_font != '' {
				font-family: $primary_font; 
			} 
			font-size: $primary_font_size_desktop + px;
			line-height: $primary_font_line_height_desktop + px;
			@media( max-width: $mobile_breakpoint + px ) {
				font-size: $primary_font_size_mobile + px;
				line-height: $primary_font_line_height_mobile + px;
			}
		}
		.wpbh-excerpt p {
			margin: 0;
		}
		.wpbh-categories {
			display: flex;
			flex-wrap: wrap;
			font-size: $smaller_font_size_desktop + px;
			@media( max-width: $mobile_breakpoint + px ) {
				font-size: $smaller_font_size_mobile + px;
			}
			a {
				margin: 5px 5px 0 0;
				display: flex;
				align-items: center;
				height: 30px;
				line-height: 30px;
				padding: 0 20px;
				border-radius: 15px;
			}
			a:hover {
				opacity: 0.9;
			}
		}
		.wpbh-image-container {
			position: relative;
			.wpbh-icon {
				position: absolute;
				z-index: 3;
				left: 0;
				width: 20px;
				height: 20px;
				background-size: cover;
				opacity: 0;
				transform: translateX( -10px );
				transition: all 0.3s;
			}
			.wpbh-icon-lightbox {
				bottom: 65px;
				background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 515.558 515.558' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ffffff' d='m378.344 332.78c25.37-34.645 40.545-77.2 40.545-123.333 0-115.484-93.961-209.445-209.445-209.445s-209.444 93.961-209.444 209.445 93.961 209.445 209.445 209.445c46.133 0 88.692-15.177 123.337-40.547l137.212 137.212 45.564-45.564c0-.001-137.214-137.213-137.214-137.213zm-168.899 21.667c-79.958 0-145-65.042-145-145s65.042-145 145-145 145 65.042 145 145-65.043 145-145 145z'/%3E%3C/svg%3E");
			}
			.wpbh-icon-link {
				bottom: 30px;
				background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 512.092 512.092'%3E%3Cg%3E%3Cpath fill='%23ffffff' d='M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z'/%3E%3C/g%3E%3Cg%3E%3Cpath fill='%23ffffff' d='M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z'/%3E%3C/g%3E%3C/svg%3E");
			}
		}
		.wpbh-inside {
			opacity: 0;
			position: relative;
			margin: 0;
			padding: 30px 30px 20px 30px;
			box-shadow: boxShadowLight();
			background-color: $tl_primary_bg_color;
			border: 1px solid $tl_border_color;
			&:hover .wpbh-thumb a:after {
				opacity: 1;
			}
			a.wpbh-post-title-link {
				color: $tl_header_color;
			}
			a.wpbh-post-title-link:hover {
				color: $alpha_accent_color;
			}
			.wpbh-categories a {
				background: $alpha_accent_color; 
				color: $primary_accent_inner;
			}
			.wpbh-excerpt, .editor-styles-wrapper p {
				color: $tl_text_color;
			}
			&:hover .wpbh-image-container .wpbh-icon {
				transform: translateX(0);
				opacity: 0.7;
				&:hover {
					opacity: 1;
				}
			}
			.wpbh-thumb {
				margin: -30px -30px 20px -30px;
				a {
					display: block;
					position: relative;
					&:after {
						content: '';
						position: absolute;
						top: 0;
						right: 0;
						bottom: 0;
						left: 0;
						background: rgba(0,0,0,0.7);
						opacity: 0;
						transition: opacity 0.3s;
					}
				}
				img {
					display: block;
					width: 100%;
					height: auto;
				}
			}
			.wpbh-post-title-link, .wpbh-excerpt, .wpbh-categories {
				margin-top: 10px;
			}
		}
	}
}

.wpbh-archive-pagination {
	display: flex;
	flex-wrap: wrap;
	align-content: center;
	justify-content: center;
	a, a:hover, a:focus {
		box-shadow: none;
		text-decoration: none;
	}
	a, span {
		display: block;
		padding: 5px 10px;
		border: 1px solid $tl_border_color;
		background: $tl_secondary_bg_color;
		margin: 0 5px 5px 5px;
		text-decoration: none;
		box-shadow: none;
		color: $tl_text_color;
		@if $primary_font != '' {
			font-family: $primary_font; 
		} 
		font-size: $primary_font_size_desktop + px;
		line-height: $primary_font_line_height_desktop + px;
		@media( max-width: $mobile_breakpoint + px ) {
			font-size: $primary_font_size_mobile + px;
			line-height: $primary_font_line_height_mobile + px;
		}
	}
	.current, a:hover {
		background: $alpha_accent_color;
		color: $primary_accent_inner;
		border-color: $alpha_accent_color;
	}
}